/*!
 * RouterJS v0.0.0
 * Copyright 2014 Travis McKinney (braznaavtrav)
 * Licensed under MIT (https://github.com/braznaavtrav/RouterJS/blob/master/LICENSE)
 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):a.Router=b()}(this,function(){"use strict";function a(a){return"/"===a.substr(a.length-1)&&1!==a.length&&(a=a.slice(0,-1)),a=a.split("/")}function b(a,b){var c,d=[];for(c=a.length-1;c>=0;c-=1){if(b[c]!==a[c]&&":"!==a[c].charAt(0))return!1;":"===a[c].charAt(0)&&d.push(b[c])}return{wildcards:d.reverse()}}var c=function(a,b){"object"==typeof a&&this.addRoute(a),"object"==typeof b&&this.configure(b)};return c.is=function(c,d){var e=d?d:window.location.pathname,f=a(e),g=c.split("/"),h=b(g,f);return h&&f.length===g.length},c.prototype=function(){function c(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function d(a,b){return a.replace(b,"")}function e(a){return a!==c}function f(c,d){var f,g,h,i=a(d);for(f in c)c.hasOwnProperty(f)&&e(c[f])&&(g=f.split("/"),h=b(g,i),h&&i.length===g.length&&("function"==typeof c[f]?c[f].apply(c[f],h.wildcards):l.scope[c[f]].apply(l.scope,h.wildcards)))}function g(){var a=d(l.window.location.pathname,l.root);f(k,a)}function h(){j!==l.window.location.pathname&&(window.dispatchEvent(new window.Event("Router.change")),g(),j=l.window.location.pathname)}var i,j,k={add:c},l={add:c,root:"",scope:window,pollIntveral:50,window:window},m={hasHistoryJS:"object"==typeof l.window.History,hasHistoryAPI:"object"==typeof l.window.history},n=function(){return"object"==typeof arguments[0]?l.add(arguments[0]):void("string"==typeof arguments[0]&&(l[arguments[0]]=arguments[1]))},o=function(a){var b={};"object"==typeof a?b=a:"string"==typeof a&&arguments[1]&&(b[arguments[0]]=arguments[1]),k.add(b)},p=function(a){m.hasHistoryJS?l.window.History.Adapter.bind(window,"statechange",g):(j=l.window.location.pathname,i=l.window.setInterval(h,l.pollIntveral));var b,c=void 0!==a?a:!0;c&&(b=d(l.window.location.pathname,l.root),f(k,b))},q=function(){m.hasHistoryJS?l.window.History.Adapter.bind(l.window,"statechange",null):l.window.clearInterval(i)},r=function(a,b){var c=b||{},d=void 0!==c.replace?c.replace:!1,e=void 0!==c.trigger?c.trigger:!1;q(),d?m.hasHistoryJS?l.window.History.replaceState({},"",a):l.window.history.replaceState({},"",a):m.hasHistoryJS?l.window.History.pushState({},"",a):l.window.history.pushState({},"",a),p(e)};return{configure:n,addRoute:o,start:p,stop:q,route:r}}(),c});